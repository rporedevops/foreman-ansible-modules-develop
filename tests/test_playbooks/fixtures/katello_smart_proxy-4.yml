interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/status
  response:
    body:
      string: '{"satellite_version":"6.16.0","result":"ok","status":200,"version":"3.12.0-develop","api_version":2}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Length:
      - '100'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.12.0-develop
      Keep-Alive:
      - timeout=15, max=100
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/smart_proxies?search=name%3D%22Smart+Proxy%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 2,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"name=\\\"Smart Proxy\\\"\",\n  \"sort\": {\n
        \   \"by\": null,\n    \"order\": null\n  },\n  \"results\": [{\"created_at\":\"2024-07-10
        14:13:12 UTC\",\"updated_at\":\"2024-07-10 14:13:12 UTC\",\"hosts_count\":0,\"name\":\"Smart
        Proxy\",\"id\":12,\"url\":\"https://foreman-proxy.example.com:9090\",\"remote_execution_pubkey\":\"ssh-rsa
        AAAAB3NzaC1yc2EAAAADAQABAAABgQCkn5pNuZ47pHDMpL1or9cDtaDJaJXn2EdrmcQBiXQOhoWjSn3R2da7ThZkjXGTirQrMeU8FeDpZUso368rUGU4PFg8JHCwuNF7X+mcOeodK3EJyGHIfsj172xF8wAHUc4tK2MSIKDfVd8MvX4M3qPN80290wmhCh4YrKFA30az96eSP4RDt19m3/qxTXpcmSRyuw1NKr0DUs4lCG08uV4hMpheypT21HM8eb3NSic73fY0nTLOerTwo9BUdQugjdiBNjlA9o9MzSZ6acCiOqAxqYEnVlWKqfgsy/55uBCAi4rO78sIKptvb+g1i1l86HNj/6xtwlrsXNft1p6MwcGDb66naRDARhzNLWUlrM6yqXpOkHEK1w76zaNw0RfwsxFSbZx5TueQQ1QI/DIxcIX0bIBSiVsp39TneEwFQqXu0a7dvst4LAKIOii6GtEc6FIcuCX49x6qe0VsJvHBS3LgKBcfTUUvWkm67qNX3Xaik1MKjvredkcH+7byxL+TiDE=
        foreman-proxy@foreman-proxy.example.com\",\"download_policy\":\"on_demand\",\"supported_pulp_types\":[\"ansible_collection\",\"docker\",\"file\",\"yum\"],\"lifecycle_environments\":[{\"id\":7,\"name\":\"Test\",\"description\":null,\"library\":false,\"organization_id\":6,\"created_at\":\"2024-07-10
        14:13:11 UTC\",\"updated_at\":\"2024-07-10 14:13:11 UTC\",\"label\":\"test\",\"registry_name_pattern\":null,\"registry_unauthenticated_pull\":false,\"prior\":\"Dev\",\"prior_id\":6,\"organization\":\"Test
        Organization\"}],\"features\":[{\"capabilities\":[],\"name\":\"Container_Gateway\",\"id\":4},{\"capabilities\":[\"single\",\"ssh\"],\"name\":\"Dynflow\",\"id\":17},{\"capabilities\":[\"cockpit\"],\"name\":\"Script\",\"id\":19},{\"capabilities\":[\"ansible\",\"certguard\",\"container\",\"core\",\"file\",\"rpm\"],\"name\":\"Pulpcore\",\"id\":3},{\"capabilities\":[],\"name\":\"Templates\",\"id\":5},{\"capabilities\":[],\"name\":\"Logs\",\"id\":13},{\"capabilities\":[],\"name\":\"Registration\",\"id\":16}]}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Length:
      - '1853'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.12.0-develop
      Keep-Alive:
      - timeout=15, max=99
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/smart_proxies/12
  response:
    body:
      string: '{"created_at":"2024-07-10 14:13:12 UTC","updated_at":"2024-07-10 14:13:12
        UTC","hosts_count":0,"name":"Smart Proxy","id":12,"url":"https://foreman-proxy.example.com:9090","remote_execution_pubkey":"ssh-rsa
        AAAAB3NzaC1yc2EAAAADAQABAAABgQCkn5pNuZ47pHDMpL1or9cDtaDJaJXn2EdrmcQBiXQOhoWjSn3R2da7ThZkjXGTirQrMeU8FeDpZUso368rUGU4PFg8JHCwuNF7X+mcOeodK3EJyGHIfsj172xF8wAHUc4tK2MSIKDfVd8MvX4M3qPN80290wmhCh4YrKFA30az96eSP4RDt19m3/qxTXpcmSRyuw1NKr0DUs4lCG08uV4hMpheypT21HM8eb3NSic73fY0nTLOerTwo9BUdQugjdiBNjlA9o9MzSZ6acCiOqAxqYEnVlWKqfgsy/55uBCAi4rO78sIKptvb+g1i1l86HNj/6xtwlrsXNft1p6MwcGDb66naRDARhzNLWUlrM6yqXpOkHEK1w76zaNw0RfwsxFSbZx5TueQQ1QI/DIxcIX0bIBSiVsp39TneEwFQqXu0a7dvst4LAKIOii6GtEc6FIcuCX49x6qe0VsJvHBS3LgKBcfTUUvWkm67qNX3Xaik1MKjvredkcH+7byxL+TiDE=
        foreman-proxy@foreman-proxy.example.com","download_policy":"on_demand","supported_pulp_types":["ansible_collection","docker","file","yum"],"lifecycle_environments":[{"id":7,"name":"Test","description":null,"library":false,"organization_id":6,"created_at":"2024-07-10
        14:13:11 UTC","updated_at":"2024-07-10 14:13:11 UTC","label":"test","registry_name_pattern":null,"registry_unauthenticated_pull":false,"prior":"Dev","prior_id":6,"organization":"Test
        Organization"}],"features":[{"capabilities":[],"name":"Container_Gateway","id":4},{"capabilities":["single","ssh"],"name":"Dynflow","id":17},{"capabilities":["cockpit"],"name":"Script","id":19},{"capabilities":["ansible","certguard","container","core","file","rpm"],"name":"Pulpcore","id":3},{"capabilities":[],"name":"Templates","id":5},{"capabilities":[],"name":"Logs","id":13},{"capabilities":[],"name":"Registration","id":16}],"locations":[],"organizations":[]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Length:
      - '1710'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.12.0-develop
      Keep-Alive:
      - timeout=15, max=98
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: '{"smart_proxy": {"download_policy": "immediate"}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '49'
      Content-Type:
      - application/json
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: PUT
    uri: https://foreman.example.org/api/smart_proxies/12
  response:
    body:
      string: '{"created_at":"2024-07-10 14:13:12 UTC","updated_at":"2024-07-10 14:13:18
        UTC","hosts_count":0,"name":"Smart Proxy","id":12,"url":"https://foreman-proxy.example.com:9090","remote_execution_pubkey":"ssh-rsa
        AAAAB3NzaC1yc2EAAAADAQABAAABgQCkn5pNuZ47pHDMpL1or9cDtaDJaJXn2EdrmcQBiXQOhoWjSn3R2da7ThZkjXGTirQrMeU8FeDpZUso368rUGU4PFg8JHCwuNF7X+mcOeodK3EJyGHIfsj172xF8wAHUc4tK2MSIKDfVd8MvX4M3qPN80290wmhCh4YrKFA30az96eSP4RDt19m3/qxTXpcmSRyuw1NKr0DUs4lCG08uV4hMpheypT21HM8eb3NSic73fY0nTLOerTwo9BUdQugjdiBNjlA9o9MzSZ6acCiOqAxqYEnVlWKqfgsy/55uBCAi4rO78sIKptvb+g1i1l86HNj/6xtwlrsXNft1p6MwcGDb66naRDARhzNLWUlrM6yqXpOkHEK1w76zaNw0RfwsxFSbZx5TueQQ1QI/DIxcIX0bIBSiVsp39TneEwFQqXu0a7dvst4LAKIOii6GtEc6FIcuCX49x6qe0VsJvHBS3LgKBcfTUUvWkm67qNX3Xaik1MKjvredkcH+7byxL+TiDE=
        foreman-proxy@foreman-proxy.example.com","download_policy":"immediate","supported_pulp_types":["ansible_collection","docker","file","yum"],"lifecycle_environments":[{"id":7,"name":"Test","description":null,"library":false,"organization_id":6,"created_at":"2024-07-10
        14:13:11 UTC","updated_at":"2024-07-10 14:13:11 UTC","label":"test","registry_name_pattern":null,"registry_unauthenticated_pull":false,"prior":"Dev","prior_id":6,"organization":"Test
        Organization"}],"features":[{"capabilities":[],"name":"Container_Gateway","id":4},{"capabilities":["single","ssh"],"name":"Dynflow","id":17},{"capabilities":["cockpit"],"name":"Script","id":19},{"capabilities":["ansible","certguard","container","core","file","rpm"],"name":"Pulpcore","id":3},{"capabilities":[],"name":"Templates","id":5},{"capabilities":[],"name":"Logs","id":13},{"capabilities":[],"name":"Registration","id":16},{"capabilities":[],"name":"Container_Gateway","id":4},{"capabilities":["single","ssh"],"name":"Dynflow","id":17},{"capabilities":["cockpit"],"name":"Script","id":19},{"capabilities":["ansible","certguard","container","core","file","rpm"],"name":"Pulpcore","id":3},{"capabilities":[],"name":"Templates","id":5},{"capabilities":[],"name":"Logs","id":13},{"capabilities":[],"name":"Registration","id":16}],"locations":[],"organizations":[]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Length:
      - '2112'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.12.0-develop
      Keep-Alive:
      - timeout=15, max=97
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
version: 1
